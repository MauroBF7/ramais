1736123444
0cc1308022480e537afa03931d99722c-phpdoc%3A5386f9726eec665a18e289f1bcc2f1e3-6f95d30492892a82bd4de03779745245
s:26660:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBuYW1lIjtzOjQyOiJSZWdpc3RlckNvbnRyb2xsZXJBcmd1bWVudExvY2F0b3JzUGFzcy5waHAiO3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbmFtZXNwYWNlcyI7YToxOntzOjQ5OiJcU3ltZm9ueVxDb21wb25lbnRcSHR0cEtlcm5lbFxEZXBlbmRlbmN5SW5qZWN0aW9uIjtPOjMwOiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRnFzZW4iOjI6e3M6Mzc6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRnFzZW4AZnFzZW4iO3M6NDk6IlxTeW1mb255XENvbXBvbmVudFxIdHRwS2VybmVsXERlcGVuZGVuY3lJbmplY3Rpb24iO3M6MzY6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRnFzZW4AbmFtZSI7czoxOToiRGVwZW5kZW5jeUluamVjdGlvbiI7fX1zOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGluY2x1ZGVzIjthOjA6e31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGZ1bmN0aW9ucyI7YTowOnt9czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBjb25zdGFudHMiO2E6MDp7fXM6NDI6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAY2xhc3NlcyI7YToxOntzOjg4OiJcU3ltZm9ueVxDb21wb25lbnRcSHR0cEtlcm5lbFxEZXBlbmRlbmN5SW5qZWN0aW9uXFJlZ2lzdGVyQ29udHJvbGxlckFyZ3VtZW50TG9jYXRvcnNQYXNzIjtPOjM1OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXENsYXNzXyI6MTU6e3M6NDc6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXENsYXNzXwBpbXBsZW1lbnRzIjthOjE6e3M6Njk6IlxTeW1mb255XENvbXBvbmVudFxEZXBlbmRlbmN5SW5qZWN0aW9uXENvbXBpbGVyXENvbXBpbGVyUGFzc0ludGVyZmFjZSI7TzozMDoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuIjoyOntzOjM3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuAGZxc2VuIjtzOjY5OiJcU3ltZm9ueVxDb21wb25lbnRcRGVwZW5kZW5jeUluamVjdGlvblxDb21waWxlclxDb21waWxlclBhc3NJbnRlcmZhY2UiO3M6MzY6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRnFzZW4AbmFtZSI7czoyMToiQ29tcGlsZXJQYXNzSW50ZXJmYWNlIjt9fXM6NDY6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXENsYXNzXwBjb25zdGFudHMiO2E6MDp7fXM6NDc6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXENsYXNzXwBwcm9wZXJ0aWVzIjthOjA6e31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxDbGFzc18AbWV0aG9kcyI7YToxOntzOjk5OiJcU3ltZm9ueVxDb21wb25lbnRcSHR0cEtlcm5lbFxEZXBlbmRlbmN5SW5qZWN0aW9uXFJlZ2lzdGVyQ29udHJvbGxlckFyZ3VtZW50TG9jYXRvcnNQYXNzOjpwcm9jZXNzKCkiO086MzU6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcTWV0aG9kIjoxMzp7czo0NjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcTWV0aG9kAGFyZ3VtZW50cyI7YToxOntpOjA7TzozNzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxBcmd1bWVudCI6NTp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQAdHlwZSI7TzozODoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFR5cGVzXE9iamVjdF8iOjE6e3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cVHlwZXNcT2JqZWN0XwBmcXNlbiI7TzozMDoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuIjoyOntzOjM3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuAGZxc2VuIjtzOjU1OiJcU3ltZm9ueVxDb21wb25lbnRcRGVwZW5kZW5jeUluamVjdGlvblxDb250YWluZXJCdWlsZGVyIjtzOjM2OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuAG5hbWUiO3M6MTY6IkNvbnRhaW5lckJ1aWxkZXIiO319czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQAbmFtZSI7czo5OiJjb250YWluZXIiO3M6NDY6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEFyZ3VtZW50AGRlZmF1bHQiO047czo1MDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQAYnlSZWZlcmVuY2UiO2I6MDtzOjQ5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxBcmd1bWVudABpc1ZhcmlhZGljIjtiOjA7fX1zOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxNZXRob2QAbG9jYXRpb24iO086MzM6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbiI6Mjp7czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbgBsaW5lTnVtYmVyIjtpOjM3O3M6NDc6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cTG9jYXRpb24AY29sdW1uTnVtYmVyIjtpOjE0MTY7fXM6NDg6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXE1ldGhvZABlbmRMb2NhdGlvbiI7TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXExvY2F0aW9uIjoyOntzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXExvY2F0aW9uAGxpbmVOdW1iZXIiO2k6MjM2O3M6NDc6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cTG9jYXRpb24AY29sdW1uTnVtYmVyIjtpOjEyMDA4O31zOjQ3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxNZXRob2QAcmV0dXJuVHlwZSI7TzozNjoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFR5cGVzXFZvaWRfIjowOnt9czo0MjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcTWV0aG9kAGZxc2VuIjtPOjMwOiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRnFzZW4iOjI6e3M6Mzc6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRnFzZW4AZnFzZW4iO3M6OTk6IlxTeW1mb255XENvbXBvbmVudFxIdHRwS2VybmVsXERlcGVuZGVuY3lJbmplY3Rpb25cUmVnaXN0ZXJDb250cm9sbGVyQXJndW1lbnRMb2NhdG9yc1Bhc3M6OnByb2Nlc3MoKSI7czozNjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxGcXNlbgBuYW1lIjtzOjc6InByb2Nlc3MiO31zOjQ3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxNZXRob2QAdmlzaWJpbGl0eSI7TzozOToicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxWaXNpYmlsaXR5IjoxOntzOjUxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxWaXNpYmlsaXR5AHZpc2liaWxpdHkiO3M6NjoicHVibGljIjt9czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcTWV0aG9kAGRvY0Jsb2NrIjtOO3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXE1ldGhvZABhYnN0cmFjdCI7YjowO3M6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXE1ldGhvZABzdGF0aWMiO2I6MDtzOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxNZXRob2QAZmluYWwiO2I6MDtzOjU3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxNZXRob2QAaGFzUmV0dXJuQnlSZWZlcmVuY2UiO2I6MDtzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxNZXRob2QAbWV0YWRhdGEiO2E6MDp7fXM6NDc6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXE1ldGhvZABhdHRyaWJ1dGVzIjthOjA6e319fXM6NDc6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXENsYXNzXwB1c2VkVHJhaXRzIjthOjA6e31zOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxDbGFzc18AbG9jYXRpb24iO086MzM6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbiI6Mjp7czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbgBsaW5lTnVtYmVyIjtpOjM1O3M6NDc6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cTG9jYXRpb24AY29sdW1uTnVtYmVyIjtpOjA7fXM6NDg6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXENsYXNzXwBlbmRMb2NhdGlvbiI7TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXExvY2F0aW9uIjoyOntzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXExvY2F0aW9uAGxpbmVOdW1iZXIiO2k6MjM3O3M6NDc6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cTG9jYXRpb24AY29sdW1uTnVtYmVyIjtpOjA7fXM6NDI6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXENsYXNzXwBmcXNlbiI7TzozMDoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuIjoyOntzOjM3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuAGZxc2VuIjtzOjg4OiJcU3ltZm9ueVxDb21wb25lbnRcSHR0cEtlcm5lbFxEZXBlbmRlbmN5SW5qZWN0aW9uXFJlZ2lzdGVyQ29udHJvbGxlckFyZ3VtZW50TG9jYXRvcnNQYXNzIjtzOjM2OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuAG5hbWUiO3M6Mzg6IlJlZ2lzdGVyQ29udHJvbGxlckFyZ3VtZW50TG9jYXRvcnNQYXNzIjt9czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQ2xhc3NfAGRvY0Jsb2NrIjtPOjMzOiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2siOjc6e3M6NDI6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2sAc3VtbWFyeSI7czo2MjoiQ3JlYXRlcyB0aGUgc2VydmljZS1sb2NhdG9ycyByZXF1aXJlZCBieSBTZXJ2aWNlVmFsdWVSZXNvbHZlci4iO3M6NDY6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2sAZGVzY3JpcHRpb24iO086NDU6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xEZXNjcmlwdGlvbiI6Mjp7czo1OToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xEZXNjcmlwdGlvbgBib2R5VGVtcGxhdGUiO3M6MDoiIjtzOjUxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrXERlc2NyaXB0aW9uAHRhZ3MiO2E6MDp7fX1zOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrAHRhZ3MiO2E6MTp7aTowO086NDU6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xUYWdzXEF1dGhvciI6NDp7czo3OiIAKgBuYW1lIjtzOjY6ImF1dGhvciI7czoxNDoiACoAZGVzY3JpcHRpb24iO047czo1NzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xUYWdzXEF1dGhvcgBhdXRob3JOYW1lIjtzOjE0OiJOaWNvbGFzIEdyZWthcyI7czo1ODoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xUYWdzXEF1dGhvcgBhdXRob3JFbWFpbCI7czoxMzoicEB0Y2h3b3JrLmNvbSI7fX1zOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrAGNvbnRleHQiO086Mzg6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxUeXBlc1xDb250ZXh0IjoyOntzOjQ5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFR5cGVzXENvbnRleHQAbmFtZXNwYWNlIjtzOjQ4OiJTeW1mb255XENvbXBvbmVudFxIdHRwS2VybmVsXERlcGVuZGVuY3lJbmplY3Rpb24iO3M6NTY6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cVHlwZXNcQ29udGV4dABuYW1lc3BhY2VBbGlhc2VzIjthOjE1OntzOjg6IkF1dG93aXJlIjtzOjU2OiJTeW1mb255XENvbXBvbmVudFxEZXBlbmRlbmN5SW5qZWN0aW9uXEF0dHJpYnV0ZVxBdXRvd2lyZSI7czoxNjoiQXV0b3dpcmVDYWxsYWJsZSI7czo2NDoiU3ltZm9ueVxDb21wb25lbnRcRGVwZW5kZW5jeUluamVjdGlvblxBdHRyaWJ1dGVcQXV0b3dpcmVDYWxsYWJsZSI7czo2OiJUYXJnZXQiO3M6NTQ6IlN5bWZvbnlcQ29tcG9uZW50XERlcGVuZGVuY3lJbmplY3Rpb25cQXR0cmlidXRlXFRhcmdldCI7czoxNToiQ2hpbGREZWZpbml0aW9uIjtzOjUzOiJTeW1mb255XENvbXBvbmVudFxEZXBlbmRlbmN5SW5qZWN0aW9uXENoaWxkRGVmaW5pdGlvbiI7czoyMToiQ29tcGlsZXJQYXNzSW50ZXJmYWNlIjtzOjY4OiJTeW1mb255XENvbXBvbmVudFxEZXBlbmRlbmN5SW5qZWN0aW9uXENvbXBpbGVyXENvbXBpbGVyUGFzc0ludGVyZmFjZSI7czoyMToiU2VydmljZUxvY2F0b3JUYWdQYXNzIjtzOjY4OiJTeW1mb255XENvbXBvbmVudFxEZXBlbmRlbmN5SW5qZWN0aW9uXENvbXBpbGVyXFNlcnZpY2VMb2NhdG9yVGFnUGFzcyI7czoxNjoiQ29udGFpbmVyQnVpbGRlciI7czo1NDoiU3ltZm9ueVxDb21wb25lbnRcRGVwZW5kZW5jeUluamVjdGlvblxDb250YWluZXJCdWlsZGVyIjtzOjE4OiJDb250YWluZXJJbnRlcmZhY2UiO3M6NTY6IlN5bWZvbnlcQ29tcG9uZW50XERlcGVuZGVuY3lJbmplY3Rpb25cQ29udGFpbmVySW50ZXJmYWNlIjtzOjI0OiJJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24iO3M6NzI6IlN5bWZvbnlcQ29tcG9uZW50XERlcGVuZGVuY3lJbmplY3Rpb25cRXhjZXB0aW9uXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbiI7czo5OiJSZWZlcmVuY2UiO3M6NDc6IlN5bWZvbnlcQ29tcG9uZW50XERlcGVuZGVuY3lJbmplY3Rpb25cUmVmZXJlbmNlIjtzOjE0OiJUeXBlZFJlZmVyZW5jZSI7czo1MjoiU3ltZm9ueVxDb21wb25lbnRcRGVwZW5kZW5jeUluamVjdGlvblxUeXBlZFJlZmVyZW5jZSI7czo3OiJSZXF1ZXN0IjtzOjQwOiJTeW1mb255XENvbXBvbmVudFxIdHRwRm91bmRhdGlvblxSZXF1ZXN0IjtzOjg6IlJlc3BvbnNlIjtzOjQxOiJTeW1mb255XENvbXBvbmVudFxIdHRwRm91bmRhdGlvblxSZXNwb25zZSI7czoxNjoiU2Vzc2lvbkludGVyZmFjZSI7czo1NzoiU3ltZm9ueVxDb21wb25lbnRcSHR0cEZvdW5kYXRpb25cU2Vzc2lvblxTZXNzaW9uSW50ZXJmYWNlIjtzOjExOiJQcm94eUhlbHBlciI7czo0MToiU3ltZm9ueVxDb21wb25lbnRcVmFyRXhwb3J0ZXJcUHJveHlIZWxwZXIiO319czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9jawBsb2NhdGlvbiI7TjtzOjUwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrAGlzVGVtcGxhdGVTdGFydCI7YjowO3M6NDg6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2sAaXNUZW1wbGF0ZUVuZCI7YjowO31zOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxDbGFzc18AcGFyZW50IjtOO3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXENsYXNzXwBhYnN0cmFjdCI7YjowO3M6NDI6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXENsYXNzXwBmaW5hbCI7YjowO3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXENsYXNzXwByZWFkT25seSI7YjowO3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXENsYXNzXwBtZXRhZGF0YSI7YTowOnt9czo0NzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQ2xhc3NfAGF0dHJpYnV0ZXMiO2E6MDp7fX19czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBpbnRlcmZhY2VzIjthOjA6e31zOjQxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHRyYWl0cyI7YTowOnt9czo0MDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBlbnVtcyI7YTowOnt9czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBoYXNoIjtzOjMyOiI2Zjk1ZDMwNDkyODkyYTgyYmQ0ZGUwMzc3OTc0NTI0NSI7czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBwYXRoIjtzOjg5OiJ2ZW5kb3Ivc3ltZm9ueS9odHRwLWtlcm5lbC9EZXBlbmRlbmN5SW5qZWN0aW9uL1JlZ2lzdGVyQ29udHJvbGxlckFyZ3VtZW50TG9jYXRvcnNQYXNzLnBocCI7czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBzb3VyY2UiO3M6MTIwMTI6Ijw/cGhwCgovKgogKiBUaGlzIGZpbGUgaXMgcGFydCBvZiB0aGUgU3ltZm9ueSBwYWNrYWdlLgogKgogKiAoYykgRmFiaWVuIFBvdGVuY2llciA8ZmFiaWVuQHN5bWZvbnkuY29tPgogKgogKiBGb3IgdGhlIGZ1bGwgY29weXJpZ2h0IGFuZCBsaWNlbnNlIGluZm9ybWF0aW9uLCBwbGVhc2UgdmlldyB0aGUgTElDRU5TRQogKiBmaWxlIHRoYXQgd2FzIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBzb3VyY2UgY29kZS4KICovCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcSHR0cEtlcm5lbFxEZXBlbmRlbmN5SW5qZWN0aW9uOwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XERlcGVuZGVuY3lJbmplY3Rpb25cQXR0cmlidXRlXEF1dG93aXJlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcRGVwZW5kZW5jeUluamVjdGlvblxBdHRyaWJ1dGVcQXV0b3dpcmVDYWxsYWJsZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XERlcGVuZGVuY3lJbmplY3Rpb25cQXR0cmlidXRlXFRhcmdldDsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XERlcGVuZGVuY3lJbmplY3Rpb25cQ2hpbGREZWZpbml0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcRGVwZW5kZW5jeUluamVjdGlvblxDb21waWxlclxDb21waWxlclBhc3NJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxEZXBlbmRlbmN5SW5qZWN0aW9uXENvbXBpbGVyXFNlcnZpY2VMb2NhdG9yVGFnUGFzczsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XERlcGVuZGVuY3lJbmplY3Rpb25cQ29udGFpbmVyQnVpbGRlcjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XERlcGVuZGVuY3lJbmplY3Rpb25cQ29udGFpbmVySW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcRGVwZW5kZW5jeUluamVjdGlvblxFeGNlcHRpb25cSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcRGVwZW5kZW5jeUluamVjdGlvblxSZWZlcmVuY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxEZXBlbmRlbmN5SW5qZWN0aW9uXFR5cGVkUmVmZXJlbmNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcSHR0cEZvdW5kYXRpb25cUmVxdWVzdDsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XEh0dHBGb3VuZGF0aW9uXFJlc3BvbnNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcSHR0cEZvdW5kYXRpb25cU2Vzc2lvblxTZXNzaW9uSW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcVmFyRXhwb3J0ZXJcUHJveHlIZWxwZXI7CgovKioKICogQ3JlYXRlcyB0aGUgc2VydmljZS1sb2NhdG9ycyByZXF1aXJlZCBieSBTZXJ2aWNlVmFsdWVSZXNvbHZlci4KICoKICogQGF1dGhvciBOaWNvbGFzIEdyZWthcyA8cEB0Y2h3b3JrLmNvbT4KICovCmNsYXNzIFJlZ2lzdGVyQ29udHJvbGxlckFyZ3VtZW50TG9jYXRvcnNQYXNzIGltcGxlbWVudHMgQ29tcGlsZXJQYXNzSW50ZXJmYWNlCnsKICAgIHB1YmxpYyBmdW5jdGlvbiBwcm9jZXNzKENvbnRhaW5lckJ1aWxkZXIgJGNvbnRhaW5lcik6IHZvaWQKICAgIHsKICAgICAgICBpZiAoISRjb250YWluZXItPmhhc0RlZmluaXRpb24oJ2FyZ3VtZW50X3Jlc29sdmVyLnNlcnZpY2UnKSAmJiAhJGNvbnRhaW5lci0+aGFzRGVmaW5pdGlvbignYXJndW1lbnRfcmVzb2x2ZXIubm90X3RhZ2dlZF9jb250cm9sbGVyJykpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgJHBhcmFtZXRlckJhZyA9ICRjb250YWluZXItPmdldFBhcmFtZXRlckJhZygpOwogICAgICAgICRjb250cm9sbGVycyA9IFtdOwogICAgICAgICRjb250cm9sbGVyQ2xhc3NlcyA9IFtdOwoKICAgICAgICAkcHVibGljQWxpYXNlcyA9IFtdOwogICAgICAgIGZvcmVhY2ggKCRjb250YWluZXItPmdldEFsaWFzZXMoKSBhcyAkaWQgPT4gJGFsaWFzKSB7CiAgICAgICAgICAgIGlmICgkYWxpYXMtPmlzUHVibGljKCkgJiYgISRhbGlhcy0+aXNQcml2YXRlKCkpIHsKICAgICAgICAgICAgICAgICRwdWJsaWNBbGlhc2VzWyhzdHJpbmcpICRhbGlhc11bXSA9ICRpZDsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgJGVtcHR5QXV0b3dpcmVBdHRyaWJ1dGVzID0gY2xhc3NfZXhpc3RzKEF1dG93aXJlOjpjbGFzcykgPyBudWxsIDogW107CgogICAgICAgIGZvcmVhY2ggKCRjb250YWluZXItPmZpbmRUYWdnZWRTZXJ2aWNlSWRzKCdjb250cm9sbGVyLnNlcnZpY2VfYXJndW1lbnRzJywgdHJ1ZSkgYXMgJGlkID0+ICR0YWdzKSB7CiAgICAgICAgICAgICRkZWYgPSAkY29udGFpbmVyLT5nZXREZWZpbml0aW9uKCRpZCk7CiAgICAgICAgICAgICRkZWYtPnNldFB1YmxpYyh0cnVlKTsKICAgICAgICAgICAgJGRlZi0+c2V0TGF6eShmYWxzZSk7CiAgICAgICAgICAgICRjbGFzcyA9ICRkZWYtPmdldENsYXNzKCk7CiAgICAgICAgICAgICRhdXRvd2lyZSA9ICRkZWYtPmlzQXV0b3dpcmVkKCk7CiAgICAgICAgICAgICRiaW5kaW5ncyA9ICRkZWYtPmdldEJpbmRpbmdzKCk7CgogICAgICAgICAgICAvLyByZXNvbHZlIHNlcnZpY2UgY2xhc3MsIHRha2luZyBwYXJlbnQgZGVmaW5pdGlvbnMgaW50byBhY2NvdW50CiAgICAgICAgICAgIHdoaWxlICgkZGVmIGluc3RhbmNlb2YgQ2hpbGREZWZpbml0aW9uKSB7CiAgICAgICAgICAgICAgICAkZGVmID0gJGNvbnRhaW5lci0+ZmluZERlZmluaXRpb24oJGRlZi0+Z2V0UGFyZW50KCkpOwogICAgICAgICAgICAgICAgJGNsYXNzID0gJGNsYXNzID86ICRkZWYtPmdldENsYXNzKCk7CiAgICAgICAgICAgICAgICAkYmluZGluZ3MgKz0gJGRlZi0+Z2V0QmluZGluZ3MoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAkY2xhc3MgPSAkcGFyYW1ldGVyQmFnLT5yZXNvbHZlVmFsdWUoJGNsYXNzKTsKCiAgICAgICAgICAgIGlmICghJHIgPSAkY29udGFpbmVyLT5nZXRSZWZsZWN0aW9uQ2xhc3MoJGNsYXNzKSkgewogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbihzcHJpbnRmKCdDbGFzcyAiJXMiIHVzZWQgZm9yIHNlcnZpY2UgIiVzIiBjYW5ub3QgYmUgZm91bmQuJywgJGNsYXNzLCAkaWQpKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJGNvbnRyb2xsZXJDbGFzc2VzW10gPSAkY2xhc3M7CgogICAgICAgICAgICAvLyBnZXQgcmVndWxhciBwdWJsaWMgbWV0aG9kcwogICAgICAgICAgICAkbWV0aG9kcyA9IFtdOwogICAgICAgICAgICAkYXJndW1lbnRzID0gW107CiAgICAgICAgICAgIGZvcmVhY2ggKCRyLT5nZXRNZXRob2RzKFxSZWZsZWN0aW9uTWV0aG9kOjpJU19QVUJMSUMpIGFzICRyKSB7CiAgICAgICAgICAgICAgICBpZiAoJ3NldENvbnRhaW5lcicgPT09ICRyLT5uYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoISRyLT5pc0NvbnN0cnVjdG9yKCkgJiYgISRyLT5pc0Rlc3RydWN0b3IoKSAmJiAhJHItPmlzQWJzdHJhY3QoKSkgewogICAgICAgICAgICAgICAgICAgICRtZXRob2RzW3N0cnRvbG93ZXIoJHItPm5hbWUpXSA9IFskciwgJHItPmdldFBhcmFtZXRlcnMoKV07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIHZhbGlkYXRlIGFuZCBjb2xsZWN0IGV4cGxpY2l0IHBlci1hY3Rpb25zIGFuZCBwZXItYXJndW1lbnRzIHNlcnZpY2UgcmVmZXJlbmNlcwogICAgICAgICAgICBmb3JlYWNoICgkdGFncyBhcyAkYXR0cmlidXRlcykgewogICAgICAgICAgICAgICAgaWYgKCFpc3NldCgkYXR0cmlidXRlc1snYWN0aW9uJ10pICYmICFpc3NldCgkYXR0cmlidXRlc1snYXJndW1lbnQnXSkgJiYgIWlzc2V0KCRhdHRyaWJ1dGVzWydpZCddKSkgewogICAgICAgICAgICAgICAgICAgICRhdXRvd2lyZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmb3JlYWNoIChbJ2FjdGlvbicsICdhcmd1bWVudCcsICdpZCddIGFzICRrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc3NldCgkYXR0cmlidXRlc1ska11bMF0pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oc3ByaW50ZignTWlzc2luZyAiJXMiIGF0dHJpYnV0ZSBvbiB0YWcgImNvbnRyb2xsZXIuc2VydmljZV9hcmd1bWVudHMiICVzIGZvciBzZXJ2aWNlICIlcyIuJywgJGssIGpzb25fZW5jb2RlKCRhdHRyaWJ1dGVzLCBcSlNPTl9VTkVTQ0FQRURfVU5JQ09ERSksICRpZCkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICghaXNzZXQoJG1ldGhvZHNbJGFjdGlvbiA9IHN0cnRvbG93ZXIoJGF0dHJpYnV0ZXNbJ2FjdGlvbiddKV0pKSB7CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbihzcHJpbnRmKCdJbnZhbGlkICJhY3Rpb24iIGF0dHJpYnV0ZSBvbiB0YWcgImNvbnRyb2xsZXIuc2VydmljZV9hcmd1bWVudHMiIGZvciBzZXJ2aWNlICIlcyI6IG5vIHB1YmxpYyAiJXMoKSIgbWV0aG9kIGZvdW5kIG9uIGNsYXNzICIlcyIuJywgJGlkLCAkYXR0cmlidXRlc1snYWN0aW9uJ10sICRjbGFzcykpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgWyRyLCAkcGFyYW1ldGVyc10gPSAkbWV0aG9kc1skYWN0aW9uXTsKICAgICAgICAgICAgICAgICRmb3VuZCA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIGZvcmVhY2ggKCRwYXJhbWV0ZXJzIGFzICRwKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCRhdHRyaWJ1dGVzWydhcmd1bWVudCddID09PSAkcC0+bmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzc2V0KCRhcmd1bWVudHNbJHItPm5hbWVdWyRwLT5uYW1lXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRhcmd1bWVudHNbJHItPm5hbWVdWyRwLT5uYW1lXSA9ICRhdHRyaWJ1dGVzWydpZCddOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICRmb3VuZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoISRmb3VuZCkgewogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oc3ByaW50ZignSW52YWxpZCAiY29udHJvbGxlci5zZXJ2aWNlX2FyZ3VtZW50cyIgdGFnIGZvciBzZXJ2aWNlICIlcyI6IG1ldGhvZCAiJXMoKSIgaGFzIG5vICIlcyIgYXJndW1lbnQgb24gY2xhc3MgIiVzIi4nLCAkaWQsICRyLT5uYW1lLCAkYXR0cmlidXRlc1snYXJndW1lbnQnXSwgJGNsYXNzKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZvcmVhY2ggKCRtZXRob2RzIGFzIFskciwgJHBhcmFtZXRlcnNdKSB7CiAgICAgICAgICAgICAgICAvKiogQHZhciBcUmVmbGVjdGlvbk1ldGhvZCAkciAqLwoKICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBhIHBlci1tZXRob2QgbWFwIG9mIGFyZ3VtZW50LW5hbWVzIHRvIHNlcnZpY2UvdHlwZS1yZWZlcmVuY2VzCiAgICAgICAgICAgICAgICAkYXJncyA9IFtdOwogICAgICAgICAgICAgICAgJGVycm9yZWRJZHMgPSAwOwogICAgICAgICAgICAgICAgZm9yZWFjaCAoJHBhcmFtZXRlcnMgYXMgJHApIHsKICAgICAgICAgICAgICAgICAgICAvKiogQHZhciBcUmVmbGVjdGlvblBhcmFtZXRlciAkcCAqLwogICAgICAgICAgICAgICAgICAgICR0eXBlID0gcHJlZ19yZXBsYWNlKCcvKF58Wyh8Jl0pXFxcXC8nLCAnXDEnLCAkdGFyZ2V0ID0gbHRyaW0oUHJveHlIZWxwZXI6OmV4cG9ydFR5cGUoJHApID8/ICcnLCAnPycpKTsKICAgICAgICAgICAgICAgICAgICAkaW52YWxpZEJlaGF2aW9yID0gQ29udGFpbmVySW50ZXJmYWNlOjpJR05PUkVfT05fSU5WQUxJRF9SRUZFUkVOQ0U7CiAgICAgICAgICAgICAgICAgICAgJGF1dG93aXJlQXR0cmlidXRlcyA9ICRhdXRvd2lyZSA/ICRlbXB0eUF1dG93aXJlQXR0cmlidXRlcyA6IFtdOwogICAgICAgICAgICAgICAgICAgICRwYXJzZWROYW1lID0gJHAtPm5hbWU7CiAgICAgICAgICAgICAgICAgICAgJGsgPSBudWxsOwoKICAgICAgICAgICAgICAgICAgICBpZiAoaXNzZXQoJGFyZ3VtZW50c1skci0+bmFtZV1bJHAtPm5hbWVdKSkgewogICAgICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0ID0gJGFyZ3VtZW50c1skci0+bmFtZV1bJHAtPm5hbWVdOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJz8nICE9PSAkdGFyZ2V0WzBdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW52YWxpZEJlaGF2aW9yID0gQ29udGFpbmVySW50ZXJmYWNlOjpSVU5USU1FX0VYQ0VQVElPTl9PTl9JTlZBTElEX1JFRkVSRU5DRTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlaWYgKCcnID09PSAkdGFyZ2V0ID0gKHN0cmluZykgc3Vic3RyKCR0YXJnZXQsIDEpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoJ0EgImNvbnRyb2xsZXIuc2VydmljZV9hcmd1bWVudHMiIHRhZyBtdXN0IGhhdmUgbm9uLWVtcHR5ICJpZCIgYXR0cmlidXRlcyBmb3Igc2VydmljZSAiJXMiLicsICRpZCkpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2VpZiAoJHAtPmFsbG93c051bGwoKSAmJiAhJHAtPmlzT3B0aW9uYWwoKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmFsaWRCZWhhdmlvciA9IENvbnRhaW5lckludGVyZmFjZTo6TlVMTF9PTl9JTlZBTElEX1JFRkVSRU5DRTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZWlmIChpc3NldCgkYmluZGluZ3NbJGJpbmRpbmdOYW1lID0gJHR5cGUuJyAkJy4kbmFtZSA9IFRhcmdldDo6cGFyc2VOYW1lKCRwLCAkaywgJHBhcnNlZE5hbWUpXSkKICAgICAgICAgICAgICAgICAgICAgICAgfHwgaXNzZXQoJGJpbmRpbmdzWyRiaW5kaW5nTmFtZSA9ICR0eXBlLicgJCcuJHBhcnNlZE5hbWVdKQogICAgICAgICAgICAgICAgICAgICAgICB8fCBpc3NldCgkYmluZGluZ3NbJGJpbmRpbmdOYW1lID0gJyQnLiRuYW1lXSkKICAgICAgICAgICAgICAgICAgICAgICAgfHwgaXNzZXQoJGJpbmRpbmdzWyRiaW5kaW5nTmFtZSA9ICR0eXBlXSkKICAgICAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGJpbmRpbmcgPSAkYmluZGluZ3NbJGJpbmRpbmdOYW1lXTsKCiAgICAgICAgICAgICAgICAgICAgICAgIFskYmluZGluZ1ZhbHVlLCAkYmluZGluZ0lkLCAsICRiaW5kaW5nVHlwZSwgJGJpbmRpbmdGaWxlXSA9ICRiaW5kaW5nLT5nZXRWYWx1ZXMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgJGJpbmRpbmctPnNldFZhbHVlcyhbJGJpbmRpbmdWYWx1ZSwgJGJpbmRpbmdJZCwgdHJ1ZSwgJGJpbmRpbmdUeXBlLCAkYmluZGluZ0ZpbGVdKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICRhcmdzWyRwLT5uYW1lXSA9ICRiaW5kaW5nVmFsdWU7CgogICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2VpZiAoISRhdXRvd2lyZSB8fCAoISgkYXV0b3dpcmVBdHRyaWJ1dGVzID8/PSAkcC0+Z2V0QXR0cmlidXRlcyhBdXRvd2lyZTo6Y2xhc3MsIFxSZWZsZWN0aW9uQXR0cmlidXRlOjpJU19JTlNUQU5DRU9GKSkgJiYgKCEkdHlwZSB8fCAnXFwnICE9PSAkdGFyZ2V0WzBdKSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlaWYgKGlzX3N1YmNsYXNzX29mKCR0eXBlLCBcVW5pdEVudW06OmNsYXNzKSkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBkbyBub3QgYXR0ZW1wdCB0byByZWdpc3RlciBlbnVtIHR5cGVkIGFyZ3VtZW50cyBpZiBub3QgYWxyZWFkeSBwcmVzZW50IGluIGJpbmRpbmdzCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZWlmICghJHAtPmFsbG93c051bGwoKSkgewogICAgICAgICAgICAgICAgICAgICAgICAkaW52YWxpZEJlaGF2aW9yID0gQ29udGFpbmVySW50ZXJmYWNlOjpSVU5USU1FX0VYQ0VQVElPTl9PTl9JTlZBTElEX1JFRkVSRU5DRTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChSZXF1ZXN0OjpjbGFzcyA9PT0gJHR5cGUgfHwgU2Vzc2lvbkludGVyZmFjZTo6Y2xhc3MgPT09ICR0eXBlIHx8IFJlc3BvbnNlOjpjbGFzcyA9PT0gJHR5cGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoJGF1dG93aXJlQXR0cmlidXRlcykgewogICAgICAgICAgICAgICAgICAgICAgICAkYXR0cmlidXRlID0gJGF1dG93aXJlQXR0cmlidXRlc1swXS0+bmV3SW5zdGFuY2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgJHZhbHVlID0gJHBhcmFtZXRlckJhZy0+cmVzb2x2ZVZhbHVlKCRhdHRyaWJ1dGUtPnZhbHVlKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkYXR0cmlidXRlIGluc3RhbmNlb2YgQXV0b3dpcmVDYWxsYWJsZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGFyZ3NbJHAtPm5hbWVdID0gJGF0dHJpYnV0ZS0+YnVpbGREZWZpbml0aW9uKCR2YWx1ZSwgJHR5cGUsICRwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlaWYgKCR2YWx1ZSBpbnN0YW5jZW9mIFJlZmVyZW5jZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGFyZ3NbJHAtPm5hbWVdID0gJHR5cGUgPyBuZXcgVHlwZWRSZWZlcmVuY2UoJHZhbHVlLCAkdHlwZSwgJGludmFsaWRCZWhhdmlvciwgJHAtPm5hbWUpIDogbmV3IFJlZmVyZW5jZSgkdmFsdWUsICRpbnZhbGlkQmVoYXZpb3IpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGFyZ3NbJHAtPm5hbWVdID0gbmV3IFJlZmVyZW5jZSgnLnZhbHVlLicuJGNvbnRhaW5lci0+aGFzaCgkdmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb250YWluZXItPnJlZ2lzdGVyKChzdHJpbmcpICRhcmdzWyRwLT5uYW1lXSwgJ21peGVkJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtPnNldEZhY3RvcnkoJ2N1cnJlbnQnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0+YWRkQXJndW1lbnQoWyR2YWx1ZV0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmICgkdHlwZSAmJiAhJHAtPmlzT3B0aW9uYWwoKSAmJiAhJHAtPmFsbG93c051bGwoKSAmJiAhY2xhc3NfZXhpc3RzKCR0eXBlKSAmJiAhaW50ZXJmYWNlX2V4aXN0cygkdHlwZSwgZmFsc2UpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRtZXNzYWdlID0gc3ByaW50ZignQ2Fubm90IGRldGVybWluZSBjb250cm9sbGVyIGFyZ3VtZW50IGZvciAiJXM6OiVzKCkiOiB0aGUgJCVzIGFyZ3VtZW50IGlzIHR5cGUtaGludGVkIHdpdGggdGhlIG5vbi1leGlzdGVudCBjbGFzcyBvciBpbnRlcmZhY2U6ICIlcyIuJywgJGNsYXNzLCAkci0+bmFtZSwgJHAtPm5hbWUsICR0eXBlKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlZSBpZiB0aGUgdHlwZS1oaW50IGxpdmVzIGluIHRoZSBzYW1lIG5hbWVzcGFjZSBhcyB0aGUgY29udHJvbGxlcgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoMCA9PT0gc3RybmNtcCgkdHlwZSwgJGNsYXNzLCBzdHJycG9zKCRjbGFzcywgJ1xcJykpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWVzc2FnZSAuPSAnIERpZCB5b3UgZm9yZ2V0IHRvIGFkZCBhIHVzZSBzdGF0ZW1lbnQ/JzsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgJGNvbnRhaW5lci0+cmVnaXN0ZXIoJGVycm9yZWRJZCA9ICcuZXJyb3JlZC4nLiRjb250YWluZXItPmhhc2goJG1lc3NhZ2UpLCAkdHlwZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0+YWRkRXJyb3IoJG1lc3NhZ2UpOwoKICAgICAgICAgICAgICAgICAgICAgICAgJGFyZ3NbJHAtPm5hbWVdID0gbmV3IFJlZmVyZW5jZSgkZXJyb3JlZElkLCBDb250YWluZXJJbnRlcmZhY2U6OlJVTlRJTUVfRVhDRVBUSU9OX09OX0lOVkFMSURfUkVGRVJFTkNFKTsKICAgICAgICAgICAgICAgICAgICAgICAgKyskZXJyb3JlZElkczsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0ID0gcHJlZ19yZXBsYWNlKCcvKF58Wyh8Jl0pXFxcXC8nLCAnXDEnLCAkdGFyZ2V0KTsKICAgICAgICAgICAgICAgICAgICAgICAgJGFyZ3NbJHAtPm5hbWVdID0gJHR5cGUgPyBuZXcgVHlwZWRSZWZlcmVuY2UoJHRhcmdldCwgJHR5cGUsICRpbnZhbGlkQmVoYXZpb3IsIFRhcmdldDo6cGFyc2VOYW1lKCRwKSkgOiBuZXcgUmVmZXJlbmNlKCR0YXJnZXQsICRpbnZhbGlkQmVoYXZpb3IpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBtYXBzIGFzIGEgcGVyLW1ldGhvZCBzZXJ2aWNlLWxvY2F0b3JzCiAgICAgICAgICAgICAgICBpZiAoJGFyZ3MpIHsKICAgICAgICAgICAgICAgICAgICAkY29udHJvbGxlcnNbJGlkLic6OicuJHItPm5hbWVdID0gU2VydmljZUxvY2F0b3JUYWdQYXNzOjpyZWdpc3RlcigkY29udGFpbmVyLCAkYXJncywgXGNvdW50KCRhcmdzKSAhPT0gJGVycm9yZWRJZHMgPyAkaWQuJzo6Jy4kci0+bmFtZS4nKCknIDogbnVsbCk7CgogICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKCRwdWJsaWNBbGlhc2VzWyRpZF0gPz8gW10gYXMgJGFsaWFzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRjb250cm9sbGVyc1skYWxpYXMuJzo6Jy4kci0+bmFtZV0gPSBjbG9uZSAkY29udHJvbGxlcnNbJGlkLic6OicuJHItPm5hbWVdOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgJGNvbnRyb2xsZXJMb2NhdG9yUmVmID0gU2VydmljZUxvY2F0b3JUYWdQYXNzOjpyZWdpc3RlcigkY29udGFpbmVyLCAkY29udHJvbGxlcnMpOwoKICAgICAgICBpZiAoJGNvbnRhaW5lci0+aGFzRGVmaW5pdGlvbignYXJndW1lbnRfcmVzb2x2ZXIuc2VydmljZScpKSB7CiAgICAgICAgICAgICRjb250YWluZXItPmdldERlZmluaXRpb24oJ2FyZ3VtZW50X3Jlc29sdmVyLnNlcnZpY2UnKQogICAgICAgICAgICAgICAgLT5yZXBsYWNlQXJndW1lbnQoMCwgJGNvbnRyb2xsZXJMb2NhdG9yUmVmKTsKICAgICAgICB9CgogICAgICAgIGlmICgkY29udGFpbmVyLT5oYXNEZWZpbml0aW9uKCdhcmd1bWVudF9yZXNvbHZlci5ub3RfdGFnZ2VkX2NvbnRyb2xsZXInKSkgewogICAgICAgICAgICAkY29udGFpbmVyLT5nZXREZWZpbml0aW9uKCdhcmd1bWVudF9yZXNvbHZlci5ub3RfdGFnZ2VkX2NvbnRyb2xsZXInKQogICAgICAgICAgICAgICAgLT5yZXBsYWNlQXJndW1lbnQoMCwgJGNvbnRyb2xsZXJMb2NhdG9yUmVmKTsKICAgICAgICB9CgogICAgICAgICRjb250YWluZXItPnNldEFsaWFzKCdhcmd1bWVudF9yZXNvbHZlci5jb250cm9sbGVyX2xvY2F0b3InLCAoc3RyaW5nKSAkY29udHJvbGxlckxvY2F0b3JSZWYpOwoKICAgICAgICBpZiAoJGNvbnRhaW5lci0+aGFzRGVmaW5pdGlvbignY29udHJvbGxlcl9yZXNvbHZlcicpKSB7CiAgICAgICAgICAgICRjb250YWluZXItPmdldERlZmluaXRpb24oJ2NvbnRyb2xsZXJfcmVzb2x2ZXInKQogICAgICAgICAgICAgICAgLT5hZGRNZXRob2RDYWxsKCdhbGxvd0NvbnRyb2xsZXJzJywgW2FycmF5X3VuaXF1ZSgkY29udHJvbGxlckNsYXNzZXMpXSk7CiAgICAgICAgfQogICAgfQp9CiI7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG1ldGFkYXRhIjthOjA6e319";